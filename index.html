<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="./node_modules/reveal.js/css/reveal.css">
		<link rel="stylesheet" href="./node_modules/reveal.js/css/theme/white.css">
		<link rel="stylesheet" href="./node_modules/reveal.js/lib/css/zenburn.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section class="intro">
					<div class="intro-content">
						<h2 class="intro--subtitle"><strong>PostCSS</strong>The Shape of CSS to come</h2>
						<span class="intro--text">A presentation about css in 50 slides</span>
					</div>
				</section>
				<section>
					<h2 class="intro">Historique</h2>
				</section>
				<section>
					<h3>ReWork(2013)</h3>
					<img src="images/tj-holowaychuk.jpg" alt="" class="img-as-is img-rounded img-small">
					<p>TJ Holowaychuk</p>
					<p class="small">Victoria, BC, Canada</p>
				</section>
				<section>
					<p class="quote">Several months ago I started a project named Rework, a very fast, simple, flexible, and <mark>modular CSS preprocessor</mark>.</p>
					<p class="quote fragment fade-up">The biggest and most obvious question I get is how this tool compares to something like Stylus, LESS, or Sass, and why would you want to use it.</p>
				</section>
				<section>
					<p class="quote">The simple answer is that Rework caters to a<br><mark>different audience</mark>, and provide you the <mark>flexibility to craft the preprocessor you want</mark>, not the choices the author(s) have force on you.</p>
					<a class="src fragment fade-up" href="http://tjholowaychuk.tumblr.com/post/44267035203/modular-css-preprocessing-with-rework" target="_blank">http://tjholowaychuk.tumblr.com/post/44267035203/modular-css-preprocessing-with-rework</a>
				</section>
				<section>
					<h2 class="intro">Évolution</h2>
					<img src="images/postcss.png" alt="">
				</section>
				<section class="russia"></section>
				<section>
					<h3>PostCSS(2013)</h3>
					<img src="images/andrey-sitnik.jpg" alt="" class="img-as-is img-rounded img-small">
					<p>Andrey Sitnik</p>
					<p class="small">Saint Petersburg, Russia</p>
					<img src="images/evilmartians.svg" alt="" width="200px">
				</section>
				<section>
					<p class="quote">PostCSS is a tool for <mark>transforming styles with JS plugins.</mark></p>
					<p class="quote fragment fade-up">These plugins can <mark>lint your CSS, support variables and mixins, transpile future CSS syntax, inline images, and more.</mark></p>
					<p class="quote fragment fade-up">PostCSS is used by industry leaders including <mark>Wikipedia, Twitter, Alibaba, and JetBrains</mark>. The <mark>Autoprefixer PostCSS plugin</mark> is one of the most popular CSS processors.</p>
				</section>
				<section>
					<p>Everything that can be written in JS will be written in JS</p>
					<p>Fonctionnement</p>
					<img src="images/postcss-core-transparent.png">
				</section>
				<section>
					<h3>Usage (Gulp)</h3>
					<pre>
						<code contenteditable>
var postcss = require('gulp-postcss');

var pseudoEnter = require('postcss-pseudo-class-enter');
var colorFunction = require('postcss-color-function');
var postcssZindex = require('postcss-zindex');

gulp.task('postcss', function() {
    var processors = [
        colorFunction(),
        cssNano({
            zindex: false
        }),
        autoprefixer({browsers: ['last 2 version', 'ie 9', 'opera 12.1', 'ios 6', 'android 4']}),
        pseudoEnter()
     ];
}
</code>
					</pre>
				</section>
				<section>
					<h3>Usage (Gulp)</h3>
					<pre>
						<code contenteditable>
...

var cssNanoOpts = {
    zindex: false
}

var autoprefixrOpts = {
    browsers: ['last 2 version', 'ie 9', 'opera 12.1', 'ios 6', 'android 4']
}

gulp.task('postcss', function() {
    var processors = [
        colorFunction(),
        cssNano(cssNanoOpts),
        autoprefixer(autoprefixrOpts),
        pseudoEnter()
     ];
}
</code>
					</pre>
				</section>
				<section>
					<p class="quote">Plus de 200 plugins</p>
					<p>Github</p>
					<p class="quote">PostCSS.parts</p>
					<a href="https://github.com/postcss/postcss/blob/master/docs/plugins.md" class="src">https://github.com/postcss/postcss/blob/master/docs/plugins.md</a><br>
					<a href="http://postcss.parts/" class="src">postcss.parts</a>
				</section>
				<section data-transition="zoom fade-out">
					<img src="images/githubrepo.png">
				</section>
				<section data-transition="zoom fade-out">
					<img src="images/postcssparts.png">
				</section>
				<section data-transition="zoom fade-out">
					<img src="images/insideparts.png">
				</section>
				<section data-transition="zoom fade-out">
					<h3>Types de plugins</h3>
					<div class="fragment fade-up">
						<p>Autonomes</p>
						<p><em><span class="fragment fade-up">(Optimisation</span><span class="fragment fade-up"> / Statistiques</span><span class="fragment fade-up"> / Analyse </span><span class="fragment fade-up">/ Fallback)</span></em></p>
					</div>
					<div class="fragment fade-up">
					<br><br>
					<p>Sugar Coating</p>
					<p><em><span class="fragment fade-up">(CSS4 Syntax (Transpiler)</span><span class="fragment fade-up"> / Nouvelles propriétées)</span></em>
					</p>
					</div>
				</section>
				<section>
					<h3 class="plugin">CSS Nano (Pack)</h3>
					<p>Plus que de la minification</p>
					<pre>
						<code class="css" contenteditable>
/* reduce shorthand even further */
margin: 10px 20px 10px 20px;
margin: 10px 20px;

/* reduce color values */
color: #ff0000;
color: red;

/* Reduce z-index */
z-index: 100;
z-index: 1000;
z-index: 1;
z-index: 2;

<!-- et plus -->
						</code>
					</pre>
				</section>
				<section>
				<table>
					<tbody>
					<tr>
						<td>Original (gzip)</td>
						<td>275 B</td>
					</tr>
					<td>Minified (gzip)</td>
					<td>110 B</td>
					<tr>
						<td>Difference</td>
						<td>165 B</td>
					</tr>
					<tr>
						<td>Percent</td>
						<td>40%</td>
					</tr>
					</tbody>
				</table>
				</section>
				<section>
					<h3>Problème</h3>
					<img src="images/dory.jpg" alt="">
				</section>
				<section>
					<h3 class="plugin">Autoprefixr</h3>
					<pre>
						<code contenteditable>
a {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex
}
					</code>
					</pre>

				</section>
				<section>
					<h3>Solution</h3>
					<pre>
						<code contenteditable>
a {
	display: flex;
}

// résultat
a {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex
}
					</code>
					</pre>
				</section>
				<section>
					<p>Le tout dans les deux sens</p>
					<pre>
						<code class="css" contenteditable>
<!--input -->
a {
    -webkit-border-radius: 5px;
        border-radius: 5px;
}

<!--output -->
a {
	border-radius: 5px;
}

					</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">rtlcss</h3>
					<img src="images/wiki.jpg" alt="">
				</section>
				<section>
					<h3 class="plugin">rtlcss</h3>
					<pre>
						<code contenteditable>
a {
    left: 10px;
    text-align: left;
}

// rtl
a {
    right: 10px;
    text-align: right;
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">Cache Buster</h3>
					<pre>
						<code>
.foo {
    background-image : url('../images/index/logo.png');
}

// options dont : mtime, checksum
// résultat
.foo {
    background-image : url('../images/index/logo.png?v14f32a475b8')
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">CSS Next</h3>
					<pre>
						<code contenteditable>
:root {
  --mainColor: red;
  --row: 12;
}

@custom-selector --heading h1, h2, h3, h4, h5, h6;

.post-article --heading {
    margin-top: calc(10 * var(--row));
    color: color( var(--mainColor) blackness(+20%) );
}

// résultat
.post-article h1, h2, h3, h4, h5, h6 {
    margin-top: 120px;
    color: #AA0E00;
}


</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">CSS Next</h3>
					<p>Semantic media queries</p>
					<pre>
						<code contenteditable>
@custom-media --medium-viewport (min-width: 30em);

@media (--medium-viewport) {
    /* styles for medium viewport */
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">CSS Next / postcss-nesting</h3>
					<p>Custom media queries & nesting</p>
					<pre>
						<code contenteditable>
.brand {
    font-size: 12px;
    @media (--medium-viewport) {
        /* styles for medium viewport */
        font-size: 16px;
    }
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">postcss-responsive-images</h3>
					<pre>
						<code>
.boo img {
    image-size: responsive;
}

// result
.boo img {
  max-width: 100%;
  height: auto;
  display: block;
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">Lost</h3>
					<h3>Grille / Abstraction</h3>
					<pre>
						<code class="css" contenteditable>
.card {
  lost-row: 1/3;
}
						</code>
					</pre>
				</section>
				<section>
					<h3>Grille - résultat</h3>
					<pre>
						<code class="css" contenteditable>
.card {
  width: calc(99.99% * 1/2 - 7.5px);
}

.card:nth-child(n) {
  float: left;
  margin-right: 15px;
  clear: none;
}

.card:last-child,
.card:nth-child(2n) {
  margin-right: 0;
}

.card:nth-child(2n+1) {
  clear: left;
}
						</code>
					</pre>
				</section>
				<section>
					<img src="images/grid.png" alt="">
				</section>
				<section>
					<h3 class="plugin">postcss-style-guide</h3>
					<img src="images/style-guide-default.png" alt="">
				</section>
				<section>
					<pre>
						<code contenteditable>
/* @start color */
:root {
    --red: #e23B00;
    --blue: #3f526b;
    --black: #000;
    --background: #faf8f5;
}
/* @end color */
						</code>
					</pre>
				</section>
				<section>
					<pre>
						<code>
/*
@styleguide

@title Button

Use the button classes on and a, button, input elements.

<button class="button button--large button--red">Red Button</button>
<button class="button button--large button--red">Red Button</button>
<button class="button button--large button--blue">Red Button</button>
<button class="button button--large button--blue">Red Button</button>
*/
.button {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    cursor: pointer;
}

.button--large {
    width: 140px;
    height: 40px;
    font-size: 14px;
}

.button--red {
    color: #fff;
    background-color: var(--red);
}

.button--blue {
    color: #fff;
    background-color: var(--blue);
}
						</code>
					</pre>
				</section>
				<section>
					<h3>Vice Versa</h3>
					<p>Possible de compiler son css via un fichier de config yaml ou autre</p>
				</section>
				<section>
					<h3 class="plugin">postcss-instagram</h3>
					<pre>
						<code contenteditable>
// instagram
.boo {
    filter: earlybird;
}
					</code>
					</pre>
					<img src="https://github.com/azat-io/postcss-instagram/raw/master/images/earlybird.jpg?raw=true" alt="" class="fragment fade-up">
				</section>
				<section>
					<h3 class="plugin">PostCSS Colorblind</h3>
<pre class="fragment fade-up">
<code contenteditable>
// gulpfile.js
var colorblind = require("postcss-colorblind");
</code>
</pre>
<pre class="fragment fade-up">
	<code contenteditable>
gulp.task('postcss-cblind', function() {
    var processors = [
        ...
        colorblind(tritanomaly)
     ];
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">PostCSS Colorblind</h3>
					<img src="images/colorblind-before.jpg" alt="" width="450px">
					<img src="images/colorblind-after.jpg" alt="" width="450px">
				</section>
				<section>
					<h3 class="plugin">postcss-get-color</h3>
					<p>PostCSS plugin to get the prominent colors from an image.</p>
					<img src="images/getcolor.png" alt="">
					<img src="images/getcolor2.png" alt="">
				</section>
				<section>
					<h3 class="plugin">css-colorguard</h3>
					<p>Keep a watchful eye on your css colors.</p>
					<img src="images/colorguard.png" alt="">
				</section>
				<section>
					<h3 class="plugin">postcss-colors-only</h3>
					<p>PostCSS plugin to remove all rules except those which contain one or more colors.</p>
					<pre>
						<code contenteditable>
// input
.card {
    margin-top: 15px;
    background-color: teal;
    padding: 15px;
    color: red;
}

// output
.card {
    background-color: teal;
    color: red;
}
						</code>
					</pre>
				</section>
				<section>
					<h3 class="plugin">PRE CSS - Pack</h3>
					<p>mixins, imports, nesting, etc</p>
					<img src="images/precss.png">
				</section>

				<section>
					<h3>Les plugins = JS</h3>
					<p>Simple a créer</p>
					<p>PostCSS API</p>
				</section>
				<section>
					<h3>Plugin</h3>
					<pre>
						<code class="js" contenteditable>
function (css, result) {
    // Runs through all of the nodes (declarations) in the file
    css.walkDecls(declaration => { 
    declaration.value = declaration.value.split('').reverse().join(''); 
});
</code>
					</pre>
				</section>
				<section>
					<h3>Hype</h3>
				</section>
				<section>
					<img src="images/bootstrap5.png" alt="">
				</section>
				<section>
					<img src="images/brenfrain.png" alt="">
				</section>
				<section>
					<img src="images/listapart.png" alt="">
				</section>
				<section>
					<p>Everything that can be written in JavaScript will eventually be written in JavaScript.</p>
					<p><em>&mdash; Atwood's Law</em></p>
				</section>
			</div>
		</div>
		<style>
			.slide-background.russia {
				background-image: url('images/fromrussia.jpg');
				background-size: contain;
				background-color: black;
			}
			.slide-background.intro {
				background: rgb(230,223,170);
			}
			.reveal mark {
				background: teal;
				color: white;
			}
			.reveal section img {
				border: none;
				box-shadow: none;
			}
			.reveal section.intro img.img {
				max-width: 500px;
				text-align: left;
				float: left;
			}
			.reveal section img.img-small {
				max-width: 200px;
			}
			.reveal section img.img-rounded {
				border-radius: 99px;
			}
			.reveal h2 {
				border-bottom: 1px solid rgba(0,0,0,0.05);
				padding-bottom: 10px;
			}
			.reveal h3 {
				text-transform: initial;
				margin-bottom: 0;
			}
			.reveal h2.intro--subtitle {
				line-height: 1;
				margin: 0;
				float: left;
				padding: 0;
				border-bottom: none;
				color: rgb(60,145,195);
				text-align: left;
				font-weight: 300;
			}
			.reveal h2.intro--subtitle strong {
				color: black;
				font-weight: 700;
				text-transform: uppercase;
				float: left;
				width: 100%;
				font-size: 100px;
				letter-spacing: -2px;
			}
			.reveal h2.intro--subtitle span {
				text-align: right;
				color: black;
			}
			.intro--text {
				float: right;
				text-transform: uppercase!important;
				font-size: 28px!important;
				margin-top: 6px!important;
			}
			.reveal p {
				padding: 0;
				margin: 0;
			}
			.reveal p.quote {
				margin-bottom: 20px;
			}
			.reveal p.small {
				font-size: 24px;
				padding: 0;
			}
			a.src {
				font-size: 17px;
				opacity: .5;
			}
			.reveal pre {
				background: #3f3f3f;
				padding: 25px;
			}
			.reveal h3.plugin {
				color: teal;
				text-transform: uppercase;
				margin-bottom: 0;
			}
			.intro-content {
				width: 100%;
				float: left;
				border-bottom: 1px solid black!important;
			}
		</style>
		<script src="./node_modules/reveal.js/lib/js/head.min.js"></script>
		<script src="./node_modules/reveal.js/js/reveal.js"></script>
		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: './node_modules/reveal.js/plugin/markdown/marked.js' },
					{ src: './node_modules/reveal.js/plugin/markdown/markdown.js' },
					{ src: './node_modules/reveal.js/plugin/notes/notes.js', async: true },
					{ src: './node_modules/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>